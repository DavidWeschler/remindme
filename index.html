<script>
  // Register service worker
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('/sw.js')
      .then(() => console.log('Service Worker registered'));
  }

  // Request notification permission
  async function askNotificationPermission() {
    const permission = await Notification.requestPermission();
    if (permission !== 'granted') {
      alert('Please allow notifications to receive reminders!');
    }
  }

  askNotificationPermission();

  // Example: trigger notification manually while app is open
  function testNotification() {
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.ready.then(reg => {
        reg.showNotification('Test Reminder', {
          body: 'This is a test notification.',
          icon: '/icons/icon-192.png'
        });
      });
    }
  }
</script>
<button onclick="testNotification()">Test Notification</button>
